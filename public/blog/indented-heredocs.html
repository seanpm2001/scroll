<!doctype html>
<!--

 The HTML below was generated by ðŸ“œ Scroll, a public domain
 programming language and static site publishing tool.
 
 https://scroll.pub
 
 Generally you don't want to edit it by hand.

 Scroll v45.0.0

-->
<html lang="en-US">
 <head>
  <meta charset="utf-8"></meta>
  <title>The Scroll Blog</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"></meta>
  <meta name="description" content="Official blog for Scroll"></meta>
  <meta name="generator" content="Scroll v45.0.0"></meta>
  <meta property="og:title" content="The Scroll Blog"></meta>
  <meta property="og:description" content="Official blog for Scroll"></meta>
  <meta property="og:image" content=""></meta>
  <link rel="alternate" type="application/rss+xml" title="undefined" href="feed.xml"></link>
  <meta name="twitter:card" content="summary_large_image"></meta>
  <style>html,body,div,span,h1,h2,h3,h4,p,ol,ul,table,figure {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  border-spacing: 0;
}
html {
  background-color: rgb(244,244,244);
  font-family: Exchange,Georgia,serif;
  color: #000;
  font-size: 14px;
  hyphens: auto;
}
.scrollHeaderComponent svg {
  width: 30px;
  fill: rgba(204,204,204,.8);
}
.scrollHeaderComponent svg:hover {
  fill: #333;
}
.scrollHeaderComponent a {
  color: rgba(204,204,204,.8);
  position: absolute;
  font-size: 30px;
  line-height: 30px;
  text-decoration: none;
}
.scrollHeaderComponent a:hover {
  color: #333;
}
.scrollHeaderComponent .scrollTopLeftBarComponent {
  text-align: left;
  left: 25px;
}
.scrollHeaderComponent .scrollTopRightBarComponent {
  text-align: right;
  right: 25px;
}
.scrollHeaderComponent a.scrollPrevPageLink {
  left: 3px;
}
.scrollHeaderComponent a.scrollNextPageLink {
  right: 3px;
}
.scrollFooterComponent {
  border-top: 1px solid rgb(204,204,204);
  margin-top: 8px;
  padding-top: 8px;
  text-align: center;
}
.scrollFooterComponent svg {
  width: 30px;
  fill: rgba(204,204,204, .5);
  padding: 0 7px;
}
.scrollFooterComponent svg:hover {
  fill: #333;
}
.scrollCommunityLinkComponent {
  display: block;
  font-family: Verdana;
  font-weight: 100;
  margin: .5em;
  padding-bottom: 1em;
  text-decoration: none;
  color: rgba(204,204,204,.5);
}
.scrollGroupPageComponent,.scrollFilePageComponent {
  column-count: auto;
  column-fill: balance;
  column-width: 35ch;
  column-gap: 20px;
  column-rule: 1px solid rgb(204,204,204);
  padding-left: 20px;
  padding-right: 20px;
  margin: auto;
}
.scrollFilePageComponent {
  column-rule: none;
  padding-top: 8px;
}
.scrollFilePageComponent .scrollTitleComponent {
  display: none;
}
.scrollFilePageTitle {
  text-align: center;
  margin-top: 8px;
  margin-bottom: 8px;
  padding-left: 50px;
  padding-right: 50px;
}
.scrollFilePageTitle a {
  text-decoration: none;
  color: #000;
}
.scrollGroupPageFileContainerComponent {
  border-bottom: 1px solid rgb(204,204,204);
  padding: 1ch 0;
  break-inside: avoid;
  text-align: justify;
  margin-bottom: .5em;
}
.scrollTitleComponent {
  text-align: center;
  font-size: 24px;
  margin-bottom: .25em;
}
.scrollTitleComponent a {
  text-decoration: none;
  color: #000;
}
.scrollDateComponent {
  font-style: italic;
  font-size: 80%;
}
.scrollParagraphComponent {
  margin-top: 0.4em;
  line-height: 1.4em;
}
.scrollQuoteComponent {
  break-inside: avoid;
  display: block;
  margin: .5em 0;
  padding: .5em;
  background: rgba(204,204,204,.5);
  white-space: pre-line;
  border-left: .5em solid rgba(204,204,204,.8);
}
.scrollSectionComponent {
  text-align: center;
  margin-top: 1em;
}
.scrollQuestionComponent {
  text-align: left;
  margin-top: 2em;
}
.scrollNoteLink {
  text-decoration: none;
}
code {
  font-size: 90%;
  background-color: rgba(204,204,204,.5);
  padding: 2px 4px;
  border-radius: 4px;
}
.scrollCodeBlockComponent {
  overflow: auto;
  font-size: 80%;
  hyphens: none;
  white-space: pre;
  border-left: .5em solid rgba(204,204,204,.8);
  break-inside: avoid;
  display: block;
  margin: .5em 0;
  padding: .5em;
  border-radius: 0;
}
.scrollTableComponent {
  table-layout: fixed;
  margin: .5em 0;
  overflow: hidden;
  font-size: 80%;
  width: 100%;
  hyphens: none;
  border: 1px solid rgba(224,224,224,.8);
}
.scrollTableComponent td,.scrollTableComponent th {
  padding: 3px;
  overflow: hidden;
}
.scrollTableComponent th {
  border-bottom: 2px solid rgba(0,0,0,.6);
  text-align: left;
}
.scrollTableComponent tr:nth-child(even) {
  background: rgba(224,224,224,.6);
}
.scrollAuthor {
  font-size: 12px;
  font-style: italic;
  margin: 4px 0;
  text-align: center;
}
.scrollKpiTable {
  width: 100%;
  font-size: 30px;
  text-align: center;
  font-weight: bold;
  break-inside: avoid;
  margin-top: 8px;
  margin-bottom: 8px;
}
.scrollKpiTable td {
  width: 33.3%;
  border: 1px solid #e8e8e8;
}
.scrollKpiTable span {
  font-size: 20p;;
  display: block;
}
.scrollFileViewSourceUrlComponent {
  text-align: center;
  font-size: 80%;
  margin: 0;
  margin-top: 0.4em;
  line-height: 1.4em;
}
.scrollFileViewSourceUrlComponent a {
  color: #000;
  text-decoration: none;
}
.scrollContinueReadingLink {
  display: block;
  text-align: center;
}
.scrollDialogueComponent span {
  font-family: Verdana;
  margin-top: 5px;
  padding: 5px 20px;
  border-radius: 15px;
  display: inline-block;
}
.scrollDialogueComponentLeft {
  text-align: left;
}
.scrollDialogueComponentLeft span {
  background: rgba(204,204,204, .5);
}
.scrollDialogueComponentRight {
  text-align: right;
}
.scrollDialogueComponentRight span {
  color: white;
  background: rgb(0,132,255);
}
.scrollImageComponent {
  display: block;
  text-align: center;
}
.scrollImageComponent img {
  max-width: 98%;
  height: auto;
}
.scrollImageComponent figcaption {
  font-style: italic;
}
.scrollKeyboardNav {
  display: none;
}
.scrollCaveat {
  text-decoration: underline dashed 1px rgba(0,0,0,.1);
  cursor: default;
}
</style>
</head>
 <body>
  <div class="scrollFilePageComponent" style="column-width:60ch;column-count:1;max-width:60ch;"><h1 class="scrollTitleComponent"><a href="indented-heredocs.html">The Power of Indented Heredocs: Markdown, Textile, and BBCode in one file with no escaping</a></h1>







<h1 class="scrollTitleComponent"><a href="indented-heredocs.html">The Scroll Blog</a></h1>
















<p class="scrollParagraphComponent"><span class="scrollDateComponent">August 23, 2021 â€” </span><a href="https://scroll.pub">Scroll</a> is a new language and static site generator that is mostly written in a new language called <a href="https://jtree.treenotation.org/designer/#standard%20grammar">Grammar</a> which are both built on a new syntax called <a href="https://treenotation.org">Tree Notation</a>.</p>



<p class="scrollParagraphComponent">In this demo, I extend Scroll by adding support for <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, <a href="https://en.wikipedia.org/wiki/Textile_(markup_language)">Textile</a>, and BBCode. I want to demonstrate how easy it is to compose many languages into one using <a href="https://treenotation.org">Tree Notation</a>, which is due to what you might call the Indented or Off-side Heredoc pattern.</p>


<p class="scrollParagraphComponent">My implementation is still <em<em>researchy</em</em>â€”<a href="https://jtree.treenotation.org/designer/#standard%20grammar">Grammar</a> still needs a lot of workâ€”but my main point here is to demo how <em<em>simple and powerful indented heredocs are</em</em>. They allow you to compose unlimited languages in one file in a clean and scalable way. You don't need escaping. I think this is a very helpful pattern you can use in your own languages and code.</p>

<h3 class="scrollSectionComponent">Traditional Heredocs</h3>

<p class="scrollParagraphComponent">Traditional heredocs use start and end delimiters, like these examples from Ruby and Python and Markdown:</p>

<code class="scrollCodeBlockComponent"># Heredoc in Ruby
puts &lt;&lt;GROCERY_LIST
Grocery list
----
1. Salad mix.
2. Strawberries
GROCERY_LIST</code>

<code class="scrollCodeBlockComponent"># Heredoc in Python
print("""
Customer: Not much of a cheese shop is it?
Shopkeeper: Finest in the district , sir.
""")</code>

<code class="scrollCodeBlockComponent">```javascript
// A heredoc/code block in Markdown
console.log(123)
```</code>

<h3 class="scrollSectionComponent">Indented Heredocs</h3>

<p class="scrollParagraphComponent">In contrast here is the indented/off-side heredoc pattern
in Scroll.</p>
<code class="scrollCodeBlockComponent">* In contrast here is the indented/off-side heredoc pattern
 in Scroll.</code>

<h3 class="scrollSectionComponent">The Demo</h3>

<p class="scrollParagraphComponent">The code below:</p>

<code class="scrollCodeBlockComponent">markdown
 ### Markdown is best

textile
 *No!* _textile is best_

bbCode
 [u]bbCode rules![/u]</code>

<p class="scrollParagraphComponent">Emits this:</p>

<h3 id="markdown-is-best">Markdown is best</h3>


<p><strong>No!</strong> <em>textile is best</em></p>

<u>bbCode rules!</u>

<p class="scrollParagraphComponent">More extensive examples are pasted below. Source is <a href="https://github.com/breck7/scroll/blob/main/public/blog/indented-heredocs.scroll">here</a>.</p>

<h3 class="scrollSectionComponent">Summary</h3>

<p class="scrollParagraphComponent">A simple but largely accurate description of <a href="https://treenotation.org">Tree Notation</a> is that it is just indented or off-side <a href="https://en.wikipedia.org/wiki/Here_document">HereDocs</a>. Or in colloquial academic speak <em<em>The <a href="https://en.wikipedia.org/wiki/Off-side_rule">Off-Side Rule</a> is all you need</em</em>. Most people learn of the off-side rule via Python. Imagine if your whole language was just the off-side rule. That's basically Tree Notation. But my code is not the important thingâ€”the important thing is this pattern. Try it yourselfâ€”I bet you will love it.</p>

<h3 class="scrollSectionComponent">Extended Examples</h3>

<h4 class="scrollSectionComponent">Markdown</h4>

<code class="scrollCodeBlockComponent">markdown
 Marked - Markdown Parser
 ========================
 
 [Marked] lets you convert [Markdown] into HTML.  Markdown is a simple text format whose goal is to be very easy to read and write, even when not converted to HTML.  This demo page will let you type anything you like and see how it gets converted.  Live.  No more waiting around.
 
 How To Use The Demo
 -------------------
 
 1. Type in stuff on the left.
 2. See the live updates on the right.
 
 That's it.  Pretty simple.  There's also a drop-down option in the upper right to switch between various views:
 
 - **Preview:**  A live display of the generated HTML as it would render in a browser.
 - **HTML Source:**  The generated HTML before your browser makes it pretty.
 - **Lexer Data:**  What [marked] uses internally, in case you like gory stuff like this.
 - **Quick Reference:**  A brief run-down of how to format things using markdown.
 
 Why Markdown?
 -------------
 
 It's easy.  It's not overly bloated, unlike HTML.  Also, as the creator of [markdown] says,
 
 > The overriding design goal for Markdown's
 > formatting syntax is to make it as readable
 > as possible. The idea is that a
 > Markdown-formatted document should be
 > publishable as-is, as plain text, without
 > looking like it's been marked up with tags
 > or formatting instructions.
 
 Ready to start writing?  Either start changing stuff on the left or
 [clear everything](/demo/?text=) with a simple click.
 
 [Marked]: https://github.com/markedjs/marked/
 [Markdown]: http://daringfireball.net/projects/markdown/</code>
<h1 id="marked---markdown-parser">Marked - Markdown Parser</h1>
<p><a href="https://github.com/markedjs/marked/">Marked</a> lets you convert <a href="http://daringfireball.net/projects/markdown/">Markdown</a> into HTML.  Markdown is a simple text format whose goal is to be very easy to read and write, even when not converted to HTML.  This demo page will let you type anything you like and see how it gets converted.  Live.  No more waiting around.</p>
<h2 id="how-to-use-the-demo">How To Use The Demo</h2>
<ol>
<li>Type in stuff on the left.</li>
<li>See the live updates on the right.</li>
</ol>
<p>That&#39;s it.  Pretty simple.  There&#39;s also a drop-down option in the upper right to switch between various views:</p>
<ul>
<li><strong>Preview:</strong>  A live display of the generated HTML as it would render in a browser.</li>
<li><strong>HTML Source:</strong>  The generated HTML before your browser makes it pretty.</li>
<li><strong>Lexer Data:</strong>  What <a href="https://github.com/markedjs/marked/">marked</a> uses internally, in case you like gory stuff like this.</li>
<li><strong>Quick Reference:</strong>  A brief run-down of how to format things using markdown.</li>
</ul>
<h2 id="why-markdown">Why Markdown?</h2>
<p>It&#39;s easy.  It&#39;s not overly bloated, unlike HTML.  Also, as the creator of <a href="http://daringfireball.net/projects/markdown/">markdown</a> says,</p>
<blockquote>
<p>The overriding design goal for Markdown&#39;s
formatting syntax is to make it as readable
as possible. The idea is that a
Markdown-formatted document should be
publishable as-is, as plain text, without
looking like it&#39;s been marked up with tags
or formatting instructions.</p>
</blockquote>
<p>Ready to start writing?  Either start changing stuff on the left or
<a href="/demo/?text=">clear everything</a> with a simple click.</p>


<h4 class="scrollSectionComponent">Textile</h4>

<code class="scrollCodeBlockComponent">textile
 h1. level 1 heading
 
 h2. level 2 heading
 
 h3. level 3 heading
 
 h4. level 4 heading
 
 bq. this is blockquoted text
 
 fn1. footnote 1
 
 fn2. footnote 2
 
 This text refernces a footnote[1]
 
 # numbered list item 1
 # numbered list item 2
 
 * bulleted list first item
 * bulleted list second item
 
 _emphasis_
 *strong*
 ??citation??
 -deleted text-
 +inserted text+
 ^superscript^
 ~subscript~
 %span%
 
 p(class). paragraph with a classname
 
 p(#id). paragraph with an ID
 
 p{color:red}. paragrah with a CSS style
 
 p[fr]. paragraphe en franÃ§ais
 
 p&lt;. left aligned paragraph
 
 p>. right aligned paragraph
 
 p=. centered aligned paragraph
 
 p&lt;>. justified text paragraph
 
 |_. head |_. table |_. row |
 | a | table | row 1 |
 | a | table | row 2 |
 
 "linktext":url
 
 !imageurl!
 
 ABBR(Abbreviation)</code>
<h1>level 1 heading</h1>
<h2>level 2 heading</h2>
<h3>level 3 heading</h3>
<h4>level 4 heading</h4>
<blockquote>
<p>this is blockquoted text</p>
</blockquote>
<p class="footnote" id="fn1"><a href="#fnr1"><sup>1</sup></a> footnote 1</p>
<p class="footnote" id="fn2"><a href="#fnr2"><sup>2</sup></a> footnote 2</p>
<p>This text refernces a footnote<sup class="footnote" id="fnr1"><a href="#fn1">1</a></sup></p>
<ol>
	<li>numbered list item 1</li>
	<li>numbered list item 2</li>
</ol>
<ul>
	<li>bulleted list first item</li>
	<li>bulleted list second item</li>
</ul>
<p><em>emphasis</em><br />
<strong>strong</strong><br />
<cite>citation</cite><br />
<del>deleted text</del><br />
<ins>inserted text</ins><br />
<sup>superscript</sup><br />
<sub>subscript</sub><br />
<span>span</span></p>
<p class="class">paragraph with a classname</p>
<p id="id">paragraph with an ID</p>
<p style="color:red">paragrah with a <span class="caps">CSS</span> style</p>
<p lang="fr">paragraphe en franÃ§ais</p>
<p style="text-align:left">left aligned paragraph</p>
<p style="text-align:right">right aligned paragraph</p>
<p style="text-align:center">centered aligned paragraph</p>
<p style="text-align:justify">justified text paragraph</p>
<table>
	<tr>
		<th>head </th>
		<th>table </th>
		<th>row </th>
	</tr>
	<tr>
		<td> a </td>
		<td> table </td>
		<td> row 1 </td>
	</tr>
	<tr>
		<td> a </td>
		<td> table </td>
		<td> row 2 </td>
	</tr>
</table>
<p><a href="url">linktext</a></p>
<p><img src="imageurl" alt="" /></p>
<p><acronym title="Abbreviation"><span class="caps">ABBR</span></acronym></p>


<h4 class="scrollSectionComponent">BBCode</h4>

<code class="scrollCodeBlockComponent">bbCode
 [b]bolded text[/b]
 [i]italicized text[/i]
 [u]underlined text[/u]
 [url]https://en.wikipedia.org[/url]
 [url=https://en.wikipedia.org]English Wikipedia[/url]
 [img]https://upload.wikimedia.org/wikipedia/commons/7/70/Example.png[/img] 
 [quote]quoted text[/quote]
 [code]monospaced text[/code]
 [list]
  [*]Entry A
  [*]Entry B
 [/list]</code>
<strong>bolded text</strong><br/><i>italicized text</i><br/><u>underlined text</u><br/><a href="#">https://en.wikipedia.org</a><br/><a href="https://en.wikipedia.org">English Wikipedia</a><br/><img src="https://upload.wikimedia.org/wikipedia/commons/7/70/Example.png" alt=""/> <br/><blockquote author="">quoted text</blockquote><br/><code>monospaced text</code><br/><ul><br/> <li>Entry A<br/> <li>Entry B<br/></ul>


<p class="scrollFileViewSourceUrlComponent"><a href="https://github.com/breck7/scroll/blob/main/public/blog/indented-heredocs.scroll">View source</a></p></div>
</body>
</html>
